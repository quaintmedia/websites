var gptifr,gptaddiv,clickurl_dfp="%%CLICK_URL_UNESC%%",imgurl_dfp="%%VIEW_URL_UNESC%%",columbiaAds={imprURL:"",_auds:"all",checkmweb:function(){try{window.parent.addEventListener("scroll",function(){scrollStopper()}),window.parent.onscroll=function(){scrollStopper()},1==mweb&&null!=window.frameElement&&(gptifr=parent.top.document.getElementById(window.frameElement.getAttribute("id")),-1!=gptifr.parentNode.parentNode.getAttribute("id").indexOf("div-gpt")&&(gptaddiv=gptifr.parentNode.parentNode.getAttribute("id")))}catch(e){COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error dfp Checkmweb :- "+e),console.log("Error in mweb check")}},loadLoatameAuds:function(){$jsonp.send("http://ad.crwdcntrl.net/5/c=2800/pe=y/callback=ccuad",{callbackName:"ccuad",onSuccess:function(e){try{if(e.hasOwnProperty("Profile"))for(var t=0;t<e.Profile.Audiences.Audience.length&&200!=t;t++)columbiaAds._auds+=","+e.Profile.Audiences.Audience[t].abbr}catch(a){}columbiaAds.loadData()},onTimeout:function(){columbiaAds.loadData()},timeout:2})},loadData:function(){try{columbiaAds.checkmweb();var e=document.createElement("div");e.id="colombiaAdDiv",document.getElementsByTagName("body")[0].appendChild(e);var t=dimensionid+"~1~0",a=window.location!=window.parent.location?document.referrer:document.location,o="http://ade.clmbtech.com/cde/data/v4.htm?adUnitId="+t+"&_v=0&auds="+columbiaAds._auds+"&_u="+escape(a)+"&_t=3&_c=colombiaadCallback&exc=null&cb="+columbiaAds.getCB();$jsonp.send(o,{callbackName:"colombiaadCallback",onSuccess:function(e){columbiaAds.jsonCallback(e)},onTimeout:function(){parent.top.document.getElementById(gptaddiv).style.display="none",COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","dfp timeout :- "),console.log("timeout")},timeout:15})}catch(n){COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error dfp loadData :- "+n)}},jsonCallback:function(response){try{var adResponse;adResponse="undefined"==typeof JSON?eval(response):JSON.parse(response);for(var i=0;i<adResponse.length;i++){var id=adResponse[i].adSlot+"-"+adResponse[i].position,success=adResponse[i].success;1==success?(columbiaAds.imprURL=adResponse[i].imprUrl,columbiaAds.createAd(id,adResponse[i],"colombiaAdDiv")):(parent.top.document.getElementById(gptaddiv).style.display="none",COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","DFP Blank Response : "))}}catch(e){COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error Dfp jsonCallback :- "+e)}},replaceAdValue:function(e,t){var a=COLOMBIAUTIL.strReplace(e,"{{href}}",t.url);return a=COLOMBIAUTIL.strReplace(a,"{{imgsrc}}",t.sImg[0]),a=COLOMBIAUTIL.strReplace(a,"{{title}}",t.name),a=COLOMBIAUTIL.strReplace(a,"{{desc}}",t.desc),a=COLOMBIAUTIL.strReplace(a,"{{brand}}",t.brand)},createAd:function(e,t,a){var o,n="",r="";try{if(!t.hasOwnProperty("snippet"))return;if(o=t.snippet,t.items[0].hasOwnProperty("dataType")&&1==t.items[0].dataType)return void columbiaAds.renderExternalHTMLTag(t,a);var i=document.getElementById(a);if(i.style.display="none",o=o.replace("%jdata%",""),o=o.replace("\\",""),o=COLOMBIAUTIL.strReplace(o,'\\"','"'),o=COLOMBIAUTIL.strReplace(o,'\\"','"'),o=COLOMBIAUTIL.strReplace(o,"<\\a>","</a>"),o=COLOMBIAUTIL.strReplace(o,'id="adsdivLyr">','id="adsdivLyr">{{adpaidbody}}'),o=COLOMBIAUTIL.strReplace(o,'id="adsOrgdivLyr">','id="adsOrgdivLyr">{{adogbody}}'),t.hasOwnProperty("items")||t.hasOwnProperty("oItems")){if(o.indexOf("{{width}}")>-1){var d=o.split("{{width}}");frmwidth=3==d.length?d[1]:"",i.style.width=frmwidth}if(o.indexOf("{{height}}")>-1){var c=o.split("{{height}}");frmheight=3==c.length?c[1]:"",i.style.height=frmheight}}if(t.hasOwnProperty("items")){for(var l="",s=0;s<t.items.length;s++){if(0==s&&o.indexOf("#pd#")>-1){var m=o.split("#pd#");l=3==m.length?m[1]:""}""!=l&&(n+=columbiaAds.replaceAdValue(l,t.items[s]))}r=COLOMBIAUTIL.strReplace(o,"{{adpaidbody}}",n)}if(t.hasOwnProperty("oItems")){var p="";n="";for(var u=0;u<t.oItems.length;u++){if(0==u&&o.indexOf("#og#")>-1){var m=o.split("#og#");p=3==m.length?m[1]:""}""!=p&&(n+=this.replaceAdValue(p,t.oItems[u]))}r=COLOMBIAUTIL.strReplace(r,"{{adogbody}}",n)}i.innerHTML="",columbiaAds.drawAdFrame(e,a,r)}catch(g){COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error Dfp createAd :- "+g)}},drawAdFrame:function(e,t,a){try{var o=document.createElement("iframe");o.style.width="100%",o.style.height="100%",o.style.border="0",o.setAttribute("scrolling","no"),o.setAttribute("frameBorder","0"),o.style.overflow="hidden",o.id="ifr_"+e,document.getElementById(t).appendChild(o);var n=a;document.getElementById(o.id).onload=function(){try{}catch(e){COLOMBIAUTIL.onConsole("Iframe onload :"+e)}},o.contentWindow.document.write(n),o.contentWindow.document.close(),document.getElementById(t).style.display="block",colombiaViewportAd.onScroll()}catch(r){COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error Dfp DrwaIfram :- "+r)}},getCB:function(){var e="0";try{for(var t="",a="ABCDEFGHIkLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o=0;3>o;o++)t+=a.charAt(Math.floor(Math.random()*a.length))+Math.floor(999*Math.random()+1);e=t}catch(n){}return e},renderExternalHTMLTag:function(e,t){try{var a=e.items[0].script,o=document.createElement("iframe");o.style.width="100%",o.style.height="100%",o.style.border="0",o.setAttribute("scrolling","no"),o.setAttribute("frameBorder","0"),o.style.overflow="hidden",o.style["float"]="left",o.id="ifr_"+t,document.getElementById(t).appendChild(o),document.getElementById(o.id).onload=function(){this.contentWindow.document.body.style.margin=0,this.contentWindow.document.body.style.padding=0},o.contentWindow.document.write(a),o.contentWindow.document.close(),colombiaViewportAd.onScroll()}catch(n){COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error Dfp renderExternalHTMLTag :- "+n)}}},colombiaViewportAd={tracked:!1,adcallthrottle:function(e,t,a){try{t||(t=250);var o,n;return function(){var r=a||this,i=+new Date,d=arguments;o&&o+t>i?(clearTimeout(n),n=setTimeout(function(){o=i,e.apply(r,d)},t)):(o=i,e.apply(r,d))}}catch(r){COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error dfp adcallthottle :- "+r)}},isElementPartiallyInViewport:function(e){try{if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),a=window.parent.innerHeight||parent.top.document.documentElement.clientHeight,o=window.parent.innerWidth||parent.top.document.documentElement.clientWidth,n=t.right-t.left,r=t.bottom-t.top,i=t.top<=a&&t.top+r>=0,d=t.left<=o&&t.left+n>=0;return i&&d}return!1}catch(c){return COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error dfp isElementPartiallyInViewport :- "+c),!1}},onScroll:function(){try{if(null!=window.frameElement&&!colombiaViewportAd.tracked){var e=parent.top.document.getElementById(gptaddiv);if(colombiaViewportAd.isElementPartiallyInViewport(e)&&!colombiaViewportAd.tracked&&""!=columbiaAds.imprURL){colombiaViewportAd.tracked=!0;var t=document.createElement("img");t.src=columbiaAds.imprURL+"&cb="+columbiaAds.getCB(),t.style.display="none",document.body.appendChild(t)}}}catch(a){COLOMBIAUTIL.debugTrack("http://LB-T-1393831672.ap-southeast-1.elb.amazonaws.com/image.jpeg","error dfp onscroll :- "+a)}}},$jsonp=function(){var e={};return e.send=function(e,t){var a=t.callbackName||"callback",o=t.onSuccess||function(){},n=t.onTimeout||function(){};timeout=t.timeout||10;var r=window.setTimeout(function(){window[a]=function(){},n()},1e3*timeout);window[a]=function(e){window.clearTimeout(r),o(e)};var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,document.getElementsByTagName("head")[0].appendChild(i)},e}(),COLOMBIAUTIL={strReplace:function(e,t,a){return e.split(t).join(a)},strExactReplace:function(e,t,a){return e.split(new RegExp("\\b"+t+"\\b","gi")).join(a)},debugTrack:function(e,t){},dfpTrack:function(e){var t=document.createElement("img");t.src=e+columbiaAds.getCB(),t.style.display="none",document.body.appendChild(t)},onConsole:function(e){location.search.indexOf("colombiatrack=")}};columbiaAds.loadLoatameAuds();var scrollStopper=colombiaViewportAd.adcallthrottle(colombiaViewportAd.onScroll,500);
